/*! Timepicker - v0.4.0 - 2013-01-30
* http://labs.perifer.se/timedatepicker/
* Copyright (c) 2013 Dennis Burke; Licensed MIT, GPL */
(function($){"use strict";function e(e,t,i){e.value=$(t).text(),$(e).change(),e.focus(),i.hide()}function t(e,t){var r=e.getHours(),s=t.show24Hours?r:(r+11)%12+1,o=e.getMinutes();return i(s)+t.separator+i(o)+(t.show24Hours?"":12>r?" AM":" PM")}function i(e){return(10>e?"0":"")+e}function r(e,t){return"object"==typeof e?o(e):s(e,t)}function s(e,t){if(e){var i=e.split(t.separator),r=parseFloat(i[0]),s=parseFloat(i[1]);t.show24Hours||(12===r&&-1!==e.indexOf("AM")?r=0:12!==r&&-1!==e.indexOf("PM")&&(r+=12));var n=new Date(0,0,0,r,s,0);return o(n)}return null}function o(e){return e.setFullYear(2001),e.setMonth(0),e.setDate(0),e}var n={init:function(e){var t=$.extend({},$.fn.timePicker.defaults,e);return this.each(function(){$.timePicker(this,t)})},destroy:function(){return this.each(function(){if(this.timePicker){var e=$(this).data("timepickerdiv");$(this).data("timepickerdiv",""),$("#"+e).remove(),delete this.timePicker}})}};$.timePicker=function(e,t){try{var i=$(e)[0];return i.timePicker||(i.timePicker=new $._timePicker(i,t))}catch(r){throw"timepicker must be called on an element"}},$.timePicker.version="0.4.0",$._timePicker=function(i,n){var a=!1,u=!1,c=r(n.startTime,n),l=r(n.endTime,n),f="selected",p="li."+f,d="tp"+(new Date).getTime();$(i).attr("autocomplete","off"),$(i).data("timepickerdiv",d);for(var h=[],v=new Date(c);l>=v;)h[h.length]=t(v,n),v=new Date(v.setMinutes(v.getMinutes()+n.step));for(var m=$('<div id="'+d+'" class="time-picker'+(n.show24Hours?"":" time-picker-12hours")+'"></div>'),k=$("<ul></ul>"),g=0;h.length>g;g+=1)k.append("<li>"+h[g]+"</li>");m.append(k),m.appendTo("body").hide(),m.mouseover(function(){a=!0}).mouseout(function(){a=!1}),$("li",k).mouseover(function(){u||($(p,m).removeClass(f),$(this).addClass(f))}).mousedown(function(){a=!0}).click(function(){e(i,this,m,n),a=!1});var w=function(){if(m.is(":visible"))return!1;$("li",m).removeClass(f);var e=$(i).offset();m.css({top:e.top+i.offsetHeight,left:e.left}),m.show();var r=i.value?s(i.value,n):c,a=60*c.getHours()+c.getMinutes(),u=60*r.getHours()+r.getMinutes()-a,p=Math.round(u/n.step),d=o(new Date(0,0,0,0,p*n.step+a,0));d=d>c&&l>=d?d:c;var h=$("li:contains("+t(d,n)+")",m);return h.length&&(h.addClass(f),m[0].scrollTop=h[0].offsetTop),!0};$(i).focus(w).click(w),$(i).blur(function(){a||m.hide()}),$(i).keydown(function(t){var r;u=!0;var s=m[0].scrollTop;switch(t.which){case 38:if(w())break;r=$(p,k);var o=r.prev().addClass(f)[0];o?(r.removeClass(f),s>o.offsetTop&&(m[0].scrollTop=s-o.offsetHeight)):(r.removeClass(f),o=$("li:last",k).addClass(f)[0],m[0].scrollTop=o.offsetTop-o.offsetHeight);break;case 40:if(w())break;r=$(p,k);var a=r.next().addClass(f)[0];a?(r.removeClass(f),a.offsetTop+a.offsetHeight>s+m[0].offsetHeight&&(m[0].scrollTop=s+a.offsetHeight)):(r.removeClass(f),a=$("li:first",k).addClass(f)[0],m[0].scrollTop=0);break;case 13:if(m.is(":visible")){var c=$(p,k)[0];e(i,c,m,n),t.preventDefault()}break;case 27:m.hide()}}),$(i).keyup(function(){u=!1}),this.getTime=function(){return s(i.value,n)},this.setTime=function(e){i.value=t(r(e,n),n),$(i).change()}},$.fn.timePicker=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?($.error("Method "+e+" does not exist on jQuery.tooltip"),void 0):n.init.apply(this,arguments)},$.fn.timePicker.defaults={step:30,startTime:new Date(0,0,0,0,0,0),endTime:new Date(0,0,0,23,30,0),separator:":",show24Hours:!0}})(jQuery);
//@ sourceMappingURL=maps/timePicker.min.js.map